function c(r){if(!r)return"unknown";const t=r.toUpperCase();return t.includes("INT")?"INTEGER":t.includes("REAL")||t.includes("FLOAT")||t.includes("DOUBLE")||t.includes("DECIMAL")?"REAL":t.includes("TEXT")||t.includes("VARCHAR")||t.includes("CHAR")?"TEXT":t.includes("BLOB")?"BLOB":t.includes("NUMERIC")?"NUMERIC":"unknown"}function s(r){return r==="INTEGER"||r==="REAL"||r==="NUMERIC"}function f(r,t="TEXT"){if(!r||r.trim()==="")return null;const e=r.trim();if(e.toLowerCase()==="null"||e==="")return{operator:"is_null",value:null,originalInput:e};if(e.toLowerCase()==="not null"||e.toLowerCase()==="!null")return{operator:"is_not_null",value:null,originalInput:e};if(s(t)){const n=e.match(/^(<=|>=|!=|<|>|=)(.+)$/);if(n){const[,o,u]=n,a=parseFloat(u.trim());if(isNaN(a))return i(e);switch(o){case"<":return{operator:"lt",value:a,originalInput:e};case"<=":return{operator:"lte",value:a,originalInput:e};case">":return{operator:"gt",value:a,originalInput:e};case">=":return{operator:"gte",value:a,originalInput:e};case"=":return{operator:"eq",value:a,originalInput:e};case"!=":return{operator:"ne",value:a,originalInput:e}}}const l=parseFloat(e);if(!isNaN(l))return{operator:"eq",value:l,originalInput:e}}return i(e)}function i(r){if(r.includes(",")){const e=r.split(",").map(n=>n.trim()).filter(n=>n);if(e.length>1)return{operator:"in",value:e,originalInput:r}}if(r.startsWith("!")&&r.includes(",")){const e=r.substring(1).split(",").map(n=>n.trim()).filter(n=>n);if(e.length>1)return{operator:"not_in",value:e,originalInput:r}}const t=r.match(/^between\s+(\S+)\s+and\s+(\S+)$/i)||r.match(/^(\S+)\s*\.\.\s*(\S+)$/)||r.match(/^(\S+)\s*-\s*(\S+)$/);if(t){const[,e,n]=t;return{operator:"between",value:e.trim(),value2:n.trim(),originalInput:r}}return r.startsWith("=")?{operator:"eq",value:r.substring(1).trim(),originalInput:r}:r.startsWith("!=")||r.startsWith("!")&&r.length>1?{operator:"ne",value:r.startsWith("!=")?r.substring(2).trim():r.substring(1).trim(),originalInput:r}:{operator:"ilike",value:r,originalInput:r}}export{s as isNumericType,c as normalizeColumnType,f as parseFilterInput};
